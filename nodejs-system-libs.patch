Only in node-v0.1.31-o/tools: js2c.pyc
Only in node-v0.1.31-o/tools/wafadmin: ansiterm.pyc
Only in node-v0.1.31-o/tools/wafadmin: Build.pyc
Only in node-v0.1.31-o/tools/wafadmin: Configure.pyc
Only in node-v0.1.31-o/tools/wafadmin: Constants.pyc
Only in node-v0.1.31-o/tools/wafadmin: Environment.pyc
Only in node-v0.1.31-o/tools/wafadmin: Logs.pyc
Only in node-v0.1.31-o/tools/wafadmin: Node.pyc
Only in node-v0.1.31-o/tools/wafadmin: Options.pyc
Only in node-v0.1.31-o/tools/wafadmin: pproc.pyc
Only in node-v0.1.31-o/tools/wafadmin: Runner.pyc
Only in node-v0.1.31-o/tools/wafadmin: Scripting.pyc
Only in node-v0.1.31-o/tools/wafadmin: TaskGen.pyc
Only in node-v0.1.31-o/tools/wafadmin: Task.pyc
Only in node-v0.1.31-o/tools/wafadmin: Utils.pyc
diff -ur node-v0.1.31-o/wscript node-v0.1.31/wscript
--- node-v0.1.31-o/wscript	2010-03-11 23:03:36.000000000 -0700
+++ node-v0.1.31/wscript	2010-03-11 23:22:45.000000000 -0700
@@ -144,14 +144,6 @@
     if not conf.check(lib='nsl', uselib_store="NSL"):
       conf.fatal("Cannot find nsl library")
 
-  conf.sub_config('deps/libeio')
-  conf.sub_config('deps/libev')
-
-  if sys.platform.startswith("sunos"):
-    conf_subproject(conf, 'deps/udns', 'LIBS="-lsocket -lnsl" ./configure')
-  else:
-    conf_subproject(conf, 'deps/udns', './configure')
-
   conf.define("HAVE_CONFIG_H", 1)
 
   conf.env.append_value("CCFLAGS", "-DX_STACKSIZE=%d" % (1024*64))
@@ -247,16 +239,13 @@
 
 def build_v8(bld):
   v8 = bld.new_task_gen(
-    source        = 'deps/v8/SConstruct ' 
-                  + bld.path.ant_glob('v8/include/*') 
-                  + bld.path.ant_glob('v8/src/*'),
-    target        = bld.env["staticlib_PATTERN"] % "v8",
-    rule          = v8_cmd(bld, "default"),
+    source        = '',
+    rule          = '',
     before        = "cxx",
     install_path  = None
   )
   v8.uselib = "EXECINFO"
-  bld.env["CPPPATH_V8"] = "deps/v8/include"
+  bld.env["CPPPATH_V8"] = "/usr/include"
   t = join(bld.srcnode.abspath(bld.env_of_name("default")), v8.target)
   if sys.platform.startswith("sunos"):
     bld.env_of_name('default')["LINKFLAGS_V8"] = ["-mt", t]
@@ -275,14 +264,9 @@
     else:
       bld.env_of_name('debug')["LINKFLAGS_V8"] = ["-pthread", t]
 
-  bld.install_files('${PREFIX}/include/node/', 'deps/v8/include/*.h')
+  bld.install_files('${PREFIX}/include/node/')
 
 def build(bld):
-  bld.add_subdirs('deps/libeio deps/libev')
-
-  build_udns(bld)
-  build_v8(bld)
-
   ### evcom
   evcom = bld.new_task_gen("cc")
   evcom.source = "deps/evcom/evcom.c"
@@ -359,17 +343,14 @@
   """
   node.includes = """
     src/ 
-    deps/v8/include
-    deps/libev
-    deps/udns
-    deps/libeio
     deps/evcom 
     deps/http_parser
     deps/coupling
   """
-  node.add_objects = 'ev eio evcom http_parser coupling'
+  node.add_objects = 'evcom http_parser coupling'
   node.uselib_local = ''
   node.uselib = 'GNUTLS GPGERROR UDNS V8 EXECINFO DL KVM SOCKET NSL'
+  node.env["LINKFLAGS_V8"] = ["-lpthread", '-lv8', '-lev', '-leio', '-ludns']
 
   node.install_path = '${PREFIX}/lib'
   node.install_path = '${PREFIX}/bin'
